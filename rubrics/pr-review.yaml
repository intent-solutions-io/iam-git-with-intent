# PR Review Rubric
# EPIC 003: Evaluation Harness + Golden Tasks Framework
#
# Evaluates quality of automated PR review summaries

name: pr-review
version: 1.0.0
description: Evaluates automated PR review quality
workflow: pr-review

dimensions:
  - name: completeness
    weight: 0.30
    description: Coverage of all relevant changes and concerns
    criteria:
      - id: identifies-all-files
        description: Identifies all changed files
        type: deterministic
        weight: 1
        validator: required-sections

      - id: summarizes-intent
        description: Summarizes intent of changes
        type: llm-assisted
        weight: 1
        prompt: |
          Evaluate if the review summary accurately captures the intent
          of the PR changes. Score 0-100 based on clarity and accuracy.

      - id: notes-risks
        description: Notes potential risks or concerns
        type: deterministic
        weight: 1
        validator: required-keywords

  - name: accuracy
    weight: 0.40
    description: Correctness of findings and assessments
    criteria:
      - id: no-false-positives
        description: No false positive issue detection
        type: llm-assisted
        weight: 1
        prompt: |
          Review the identified issues. Are they genuine concerns
          or false positives? Score 0-100 (100 = no false positives).

      - id: correct-severity
        description: Correct severity assessment
        type: llm-assisted
        weight: 1
        prompt: |
          Evaluate if severity levels (critical, high, medium, low)
          are appropriately assigned. Score 0-100.

  - name: actionability
    weight: 0.30
    description: Quality of recommendations and next steps
    criteria:
      - id: clear-next-steps
        description: Clear next steps provided
        type: deterministic
        weight: 1
        validator: has-actionable-items

      - id: line-references
        description: Specific line references where applicable
        type: deterministic
        weight: 1
        validator: has-line-references

gradeScale:
  A: [90, 100]
  B: [80, 89]
  C: [70, 79]
  D: [60, 69]
  F: [0, 59]

passingScore: 70

metadata:
  author: GWI Team
  created: 2026-02-02
  tags:
    - pr-review
    - code-review
    - quality
